(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{22744:function(e,t,s){Promise.resolve().then(s.bind(s,53478))},53478:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var r=s(57437),a=s(2265),n=s(99376),i=s(48458),c=s(12381),o=s(79820),l=s(69174),d=s(69140),m=s(68919),u=s(92735),h=s(32660),x=s(70525),f=s(3085);function p(e){let{score:t,size:s=200}=e,[n,c]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e=t/60,s=0,r=setInterval(()=>{(s+=e)>=t?(c(t),clearInterval(r)):c(Math.floor(s))},2e3/60);return()=>clearInterval(r)},[t]);let o=(s-20)/2,l=2*Math.PI*o,d=l-n/100*l,m=e=>e>=90?"hsl(142, 76%, 36%)":e>=80?"hsl(221, 83%, 53%)":e>=70?"hsl(48, 96%, 53%)":"hsl(0, 84%, 60%)";return(0,r.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,r.jsxs)("svg",{width:s,height:s,className:"transform -rotate-90",children:[(0,r.jsx)("circle",{cx:s/2,cy:s/2,r:o,stroke:"currentColor",strokeWidth:"10",fill:"none",className:"text-muted opacity-20"}),(0,r.jsx)(i.E.circle,{cx:s/2,cy:s/2,r:o,stroke:m(t),strokeWidth:"10",fill:"none",strokeLinecap:"round",strokeDasharray:l,initial:{strokeDashoffset:l},animate:{strokeDashoffset:d},transition:{duration:2,ease:"easeOut"}})]}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,r.jsx)(i.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.5},className:"text-5xl font-bold",style:{color:m(t)},children:n}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"out of 100"})]})]})}var v=s(7204),j=s(31810),g=s(49322);function b(e){let{evaluation:t,questionNumber:s}=e;return(0,r.jsxs)(o.Zb,{children:[(0,r.jsxs)(o.Ol,{children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)(o.ll,{className:"text-xl mb-2",children:["Question ",s]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:t.feedback})]}),(0,r.jsxs)("div",{className:"text-right ml-4",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-primary mb-1",children:t.score}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:"Score"})]})]}),(0,r.jsx)(v.E,{value:t.score,className:"h-2"})]}),(0,r.jsx)(o.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4 text-green-500"}),(0,r.jsx)("h3",{className:"font-semibold",children:"Strengths"})]}),(0,r.jsx)("ul",{className:"space-y-2",children:t.strengths.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,r.jsx)("span",{className:"text-green-500 mt-1",children:"•"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)(g.Z,{className:"w-4 h-4 text-yellow-500"}),(0,r.jsx)("h3",{className:"font-semibold",children:"Areas for Improvement"})]}),(0,r.jsx)("ul",{className:"space-y-2",children:t.improvements.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,r.jsx)("span",{className:"text-yellow-500 mt-1",children:"•"}),(0,r.jsx)("span",{className:"text-sm",children:e})]},t))})]})]})})]})}var y=s(71837),N=s(96134);function w(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),s=e.id,[v,j]=(0,a.useState)(!0),[g,w]=(0,a.useState)([]),[k,C]=(0,a.useState)(null),[S,E]=(0,a.useState)(0);async function I(){try{j(!0);let e=(0,y.z2)(s,e=>{C(e),void 0!==e.overallScore&&E(e.overallScore)},e=>{console.error("WebSocket error:",e)});try{let e=await (0,y.rc)(s);w(e),e.length>0&&e[0].overallScore&&E(e[0].overallScore)}catch(e){console.error("Failed to fetch evaluation:",e),setTimeout(()=>{let e=[{sessionId:s,questionId:"q1",score:85,feedback:"Great introduction! You provided a clear overview of your background and highlighted relevant experience.",strengths:["Clear communication","Relevant examples","Confident delivery"],improvements:["Could add more specific metrics","Consider mentioning recent projects"]},{sessionId:s,questionId:"q2",score:78,feedback:"Good description of the challenge, but could benefit from more details about the specific technical solutions you implemented.",strengths:["Problem-solving approach","Team collaboration mentioned"],improvements:["More technical depth needed","Quantify the impact","Discuss lessons learned"]},{sessionId:s,questionId:"q3",score:92,feedback:"Excellent answer! You demonstrated a strong commitment to continuous learning and provided specific examples of how you stay current.",strengths:["Specific learning resources mentioned","Active community involvement","Practical application of knowledge"],improvements:["Could mention mentoring others"]}];w(e),E(85),j(!1)},2e3);return}return j(!1),()=>{e.close()}}catch(e){console.error("Failed to load evaluation:",e),j(!1)}}(0,a.useEffect)(()=>{I()},[s]);let R=g.length>0?Math.round(g.reduce((e,t)=>e+t.score,0)/g.length):S,z=g.flatMap(e=>e.strengths),O=g.flatMap(e=>e.improvements);return v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.w,{}),(0,r.jsx)("div",{className:"min-h-screen pt-16 bg-background",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsx)(d.O,{className:"h-12 w-64 mb-8"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)(d.O,{className:"h-96"}),(0,r.jsx)(d.O,{className:"h-96 lg:col-span-2"})]})]})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.w,{}),(0,r.jsx)("div",{className:"min-h-screen pt-16 bg-background",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Interview Evaluation"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Detailed analysis of your performance"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(c.z,{variant:"outline",children:[(0,r.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,r.jsxs)(c.z,{variant:"outline",children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Download Report"]}),(0,r.jsxs)(c.z,{onClick:()=>t.push("/dashboard"),children:[(0,r.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[(0,r.jsx)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.2},children:(0,r.jsxs)(o.Zb,{className:"text-center",children:[(0,r.jsx)(o.Ol,{children:(0,r.jsx)(o.ll,{children:"Overall Score"})}),(0,r.jsxs)(o.aY,{children:[(0,r.jsx)(p,{score:R,size:200}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(l.C,{variant:R>=80?"default":"secondary",className:"text-lg px-4 py-1",children:R>=90?"Excellent":R>=80?"Very Good":R>=70?"Good":"Needs Improvement"})})]})]})}),(0,r.jsx)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.3},className:"lg:col-span-2",children:(0,r.jsxs)(o.Zb,{children:[(0,r.jsx)(o.Ol,{children:(0,r.jsx)(o.ll,{children:"Key Insights"})}),(0,r.jsxs)(o.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,r.jsx)(x.Z,{className:"w-4 h-4 mr-2 text-green-500"}),"Top Strengths"]}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[z.length," identified"]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:z.slice(0,5).map((e,t)=>(0,r.jsx)(l.C,{variant:"secondary",children:e},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,r.jsx)(f.Z,{className:"w-4 h-4 mr-2 text-yellow-500"}),"Areas for Improvement"]}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[O.length," identified"]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:O.slice(0,5).map((e,t)=>(0,r.jsx)(l.C,{variant:"outline",children:e},t))})]})]})]})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Question Feedback"}),g.map((e,t)=>(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4+.1*t},children:(0,r.jsx)(b,{evaluation:e,questionNumber:t+1})},e.questionId))]}),k&&(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-8 right-8",children:(0,r.jsx)(o.Zb,{className:"p-4 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Receiving real-time evaluation..."})]})})})]})})})]})}},96134:function(e,t,s){"use strict";s.d(t,{w:function(){return u}});var r=s(57437),a=s(2265),n=s(27648),i=s(12381),c=s(48662),o=s(32489),l=s(58293),d=s(48458),m=s(57586);function u(){let[e,t]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.jsxs)(d.E.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.6,ease:"easeOut"},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(e?"bg-background/80 backdrop-blur-lg border-b border-border":"bg-transparent"),children:[(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)(n.default,{href:"/",className:"flex items-center space-x-2",children:(0,r.jsxs)(d.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,r.jsx)(c.Z,{className:"w-5 h-5 text-primary-foreground"})}),(0,r.jsx)("span",{className:"text-xl font-bold",children:"InterVista"})]})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(n.default,{href:"/#features",className:"text-sm font-medium hover:text-primary transition-colors",children:"Features"}),(0,r.jsx)(n.default,{href:"/dashboard",className:"text-sm font-medium hover:text-primary transition-colors",children:"Dashboard"}),(0,r.jsx)(n.default,{href:"/reports",className:"text-sm font-medium hover:text-primary transition-colors",children:"Reports"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)(i.z,{variant:"ghost",asChild:!0,children:(0,r.jsx)(n.default,{href:"/sign-in",children:"Sign In"})}),(0,r.jsx)(i.z,{asChild:!0,children:(0,r.jsx)(n.default,{href:"/dashboard",children:"Get Started"})})]}),(0,r.jsx)("button",{className:"md:hidden",onClick:()=>u(!s),children:s?(0,r.jsx)(o.Z,{className:"w-6 h-6"}):(0,r.jsx)(l.Z,{className:"w-6 h-6"})})]})}),(0,r.jsx)(m.M,{children:s&&(0,r.jsx)(d.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-background border-t border-border",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 space-y-4",children:[(0,r.jsx)(n.default,{href:"/#features",className:"block text-sm font-medium hover:text-primary transition-colors",onClick:()=>u(!1),children:"Features"}),(0,r.jsx)(n.default,{href:"/dashboard",className:"block text-sm font-medium hover:text-primary transition-colors",onClick:()=>u(!1),children:"Dashboard"}),(0,r.jsx)(n.default,{href:"/reports",className:"block text-sm font-medium hover:text-primary transition-colors",onClick:()=>u(!1),children:"Reports"}),(0,r.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,r.jsx)(i.z,{variant:"ghost",className:"w-full",asChild:!0,children:(0,r.jsx)(n.default,{href:"/sign-in",children:"Sign In"})}),(0,r.jsx)(i.z,{className:"w-full",asChild:!0,children:(0,r.jsx)(n.default,{href:"/dashboard",children:"Get Started"})})]})]})})})]})}},69174:function(e,t,s){"use strict";s.d(t,{C:function(){return c}});var r=s(57437);s(2265);var a=s(90535),n=s(93448);let i=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},12381:function(e,t,s){"use strict";s.d(t,{z:function(){return l}});var r=s(57437),a=s(2265),n=s(37053),i=s(90535),c=s(93448);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,asChild:l=!1,...d}=e,m=l?n.g7:"button";return(0,r.jsx)(m,{className:(0,c.cn)(o({variant:a,size:i,className:s})),ref:t,...d})});l.displayName="Button"},79820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return c},SZ:function(){return l},Zb:function(){return i},aY:function(){return d},eW:function(){return m},ll:function(){return o}});var r=s(57437),a=s(2265),n=s(93448);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow",s),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",s),...a})});o.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});l.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})});m.displayName="CardFooter"},7204:function(e,t,s){"use strict";s.d(t,{E:function(){return c}});var r=s(57437),a=s(2265),n=s(1505),i=s(93448);let c=a.forwardRef((e,t)=>{let{className:s,value:a,...c}=e;return(0,r.jsx)(n.fC,{ref:t,className:(0,i.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...c,children:(0,r.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});c.displayName=n.fC.displayName},69140:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var r=s(57437),a=s(93448);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},71837:function(e,t,s){"use strict";s.d(t,{Rx:function(){return c},ed:function(){return i},rc:function(){return d},tI:function(){return o},tn:function(){return l},z2:function(){return m}});let r=s(40257).env.NEXT_PUBLIC_API_URL||"http://localhost:4000";function a(){return localStorage.getItem("token")}function n(){let e=a();return{"Content-Type":"application/json",...e?{Authorization:"Bearer ".concat(e)}:{}}}async function i(e){let t=await fetch("".concat(r,"/api/sessions"),{method:"POST",headers:n(),body:JSON.stringify(e)});if(!t.ok)throw Error("createSession failed: ".concat(t.status," ").concat(t.statusText));return t.json()}async function c(e){let t=e?"?userId=".concat(encodeURIComponent(e)):"",s=await fetch("".concat(r,"/api/sessions").concat(t),{headers:n(),cache:"no-store"});if(!s.ok)throw Error("getSessions failed: ".concat(s.status," ").concat(s.statusText));return s.json()}async function o(e){let t=await fetch("".concat(r,"/api/sessions/").concat(encodeURIComponent(e),"/questions"),{headers:n(),cache:"no-store"});if(!t.ok)throw Error("getQuestions failed: ".concat(t.status," ").concat(t.statusText));return t.json()}async function l(e){let t=new FormData;t.append("audio",e.audioBlob,"answer.webm"),t.append("sessionId",e.sessionId),t.append("questionId",e.questionId),e.transcript&&t.append("transcript",e.transcript);let s=a(),n=await fetch("".concat(r,"/api/answers"),{method:"POST",headers:s?{Authorization:"Bearer ".concat(s)}:{},body:t});if(!n.ok)throw Error("submitAnswer failed: ".concat(n.status," ").concat(n.statusText))}async function d(e){let t=await fetch("".concat(r,"/api/answers/evaluation/").concat(encodeURIComponent(e)),{headers:n(),cache:"no-store"});if(!t.ok)throw Error("getEvaluation failed: ".concat(t.status," ").concat(t.statusText));return t.json()}function m(e,t,s){let a=r.replace(/^http/,"ws"),n=new WebSocket("".concat(a,"/api/sessions/").concat(encodeURIComponent(e),"/stream"));return n.onmessage=e=>{try{let s=JSON.parse(e.data);t(s)}catch(e){console.error("Failed to parse WS message",e)}},n.onerror=e=>{let t=Error("WebSocket error");console.error("WebSocket error",e),null==s||s(t)},n}},93448:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(61994),a=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[987,669,648,829,971,117,744],function(){return e(e.s=22744)}),_N_E=e.O()}]);